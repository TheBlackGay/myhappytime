# 紫微斗数排盘系统

这是一个基于 Next.js 开发的紫微斗数排盘系统。系统可以根据用户输入的出生日期、时间和性别信息，生成完整的紫微斗数命盘。

## 功能特点

- 支持输入出生日期、时间和性别
- 计算命宫、身宫和五行局
- 计算主星落宫
- 计算辅星落宫
- 计算杂耀落宫
- 计算四化信息
- 计算宫位关系（三合、六合、六冲、六害等）
- 计算大限和小限
- 完整的输入验证
- 响应式界面设计

## 技术栈

- Next.js 13 (App Router)
- TypeScript
- Tailwind CSS
- React
- dayjs (日期处理)

## 项目结构

```
src/
  ├── app/                # 页面组件
  │   └── chart/         # 命盘页面
  ├── components/        # React 组件
  │   ├── BirthForm/    # 生日表单组件
  │   └── Chart/        # 命盘相关组件
  ├── lib/              # 工具函数和数据
  │   ├── calculate.ts  # 命盘计算函数
  │   ├── starData.ts   # 星耀数据
  │   └── validate.ts   # 输入验证函数
  └── types/            # TypeScript 类型定义
      └── astro.ts      # 命盘相关类型
```

## 主要组件

### BirthForm

生日信息输入表单，包含以下字段：
- 出生日期
- 出生时间
- 性别选择

### AstroChart

命盘显示组件，包含：
- 中央信息区（命宫、身宫、五行局）
- 十二宫位环绕显示
- 各宫位中的星耀信息
- 四化显示
- 大限小限显示

### Palace

单个宫位组件，显示：
- 宫位名称
- 主星列表
- 辅星列表
- 杂耀列表
- 四化信息
- 大限小限
- 宫位关系

## 计算流程

1. 用户输入生日信息
2. 验证输入的有效性
3. 计算命宫和身宫
4. 计算五行局
5. 计算紫微星系诸星
6. 计算天府星系诸星
7. 计算辅星
8. 计算杂耀
9. 应用四化
10. 计算宫位关系
11. 计算大限小限
12. 生成完整命盘

## 使用方法

1. 安装依赖：
```bash
npm install
```

2. 启动开发服务器：
```bash
npm run dev
```

3. 访问 http://localhost:3000 即可使用

## 注意事项

- 支持的出生日期范围：1900年至今
- 时间请使用24小时制
- 建议使用现代浏览器访问以获得最佳体验

## 后续开发计划

- [ ] 添加命盘解读功能
- [ ] 支持命盘保存和分享
- [ ] 添加流年运势分析
- [ ] 支持多语言
- [ ] 添加打印功能
- [ ] 优化移动端显示 