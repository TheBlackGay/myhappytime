<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Merry Christmas 2024</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            -webkit-tap-highlight-color: transparent;
        }

        body {
            margin: 0;
            padding: 0;
            min-height: 100vh;
            background: linear-gradient(to bottom, #1a2a6c, #2a3a7c);
            font-family: 'Arial', sans-serif;
            color: #fff;
            overflow-x: hidden;
            touch-action: manipulation;
        }

        .container {
            width: 100%;
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            display: flex;
            flex-direction: column;
            align-items: center;
            min-height: 100vh;
        }

        .header {
            text-align: center;
            margin-bottom: 30px;
            animation: fadeIn 2s ease-in;
            padding: 20px;
            width: 100%;
            max-width: 800px;
        }

        .header h1 {
            font-size: 2.5em;
            background: linear-gradient(45deg, #ff69b4, #ffd700, #ff69b4);
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            animation: titleGradient 6s linear infinite;
            margin-bottom: 15px;
            text-shadow: 0 0 10px rgba(255, 105, 180, 0.3);
        }

        .date {
            font-size: 1em;
            color: #ffd700;
        }

        /* ç…§ç‰‡å±•ç¤ºæ ·å¼ä¼˜åŒ– */
        .photo-gallery {
            position: relative;
            width: 90%;
            max-width: 800px;
            height: 60vh;
            margin: 0 auto;
            border-radius: 20px;
            box-shadow: 0 0 30px rgba(255,255,255,0.2);
            background: rgba(0,0,0,0.3);
            overflow: hidden;
            z-index: 2;
        }

        .photo-card {
            position: absolute;
            width: 100%;
            height: 100%;
            opacity: 0;
            transition: opacity 0.5s ease-in-out;
            display: none;
        }

        .photo-card.active {
            opacity: 1;
            display: block;
        }

        .photo-card img {
            width: 100%;
            height: 100%;
            object-fit: contain;
            background: rgba(0,0,0,0.5);
        }

        /* å¯¼èˆªæŒ‰é’®æ ·å¼ä¼˜åŒ– */
        .nav-buttons {
            position: absolute;
            width: 100%;
            top: 50%;
            transform: translateY(-50%);
            display: flex;
            justify-content: space-between;
            padding: 0 20px;
            pointer-events: none;
        }

        .nav-button {
            background: rgba(255,255,255,0.3);
            border: 2px solid rgba(255,255,255,0.5);
            color: white;
            width: 50px;
            height: 50px;
            border-radius: 50%;
            font-size: 24px;
            display: flex;
            align-items: center;
            justify-content: center;
            pointer-events: auto;
            cursor: pointer;
            transition: all 0.3s ease;
            backdrop-filter: blur(5px);
        }

        .nav-button:hover {
            background: rgba(255,255,255,0.5);
            transform: scale(1.1);
        }

        .nav-button:active {
            background: rgba(255,255,255,0.4);
            transform: scale(0.95);
        }

        /* è£…é¥°å…ƒç´ æ ·å¼ä¼˜åŒ– */
        .decoration {
            position: fixed;
            font-size: 1.5em;
            z-index: 1000;
            transition: all 0.3s ease;
            cursor: pointer;
            animation: float 3s ease-in-out infinite;
        }

        .decoration:hover {
            transform: scale(1.2);
        }

        @keyframes float {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-10px); }
        }

        .holly {
            top: 20px;
            left: 20px;
            font-size: 2em;
            animation-delay: 0s;
        }

        .bell {
            top: 20px;
            right: 20px;
            font-size: 1.8em;
            animation-delay: 0.5s;
        }

        .gift {
            bottom: 20px;
            left: 20px;
            font-size: 2em;
            animation-delay: 1s;
        }

        .star {
            top: 50%;
            right: 20px;
            font-size: 1.5em;
            animation-delay: 1.5s;
        }

        .candy {
            bottom: 20px;
            right: 20px;
            font-size: 1.8em;
            animation-delay: 2s;
        }

        /* ä¾§è¾¹è£…é¥°ä¼˜åŒ– */
        .side-decorations {
            position: fixed;
            display: flex;
            flex-direction: column;
            gap: 20px;
            z-index: 1000;
        }

        .side-decorations.left {
            left: 20px;
            top: 50%;
            transform: translateY(-50%);
        }

        .side-decorations.right {
            right: 20px;
            top: 50%;
            transform: translateY(-50%);
        }

        .side-decorations span {
            font-size: 2em;
            animation: bounce 2s ease-in-out infinite;
            cursor: pointer;
            transition: transform 0.3s ease;
        }

        .side-decorations span:hover {
            transform: scale(1.2);
        }

        @keyframes bounce {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-10px); }
        }

        /* åœ£è¯å½©ç¯ä¼˜åŒ– */
        .christmas-lights {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            display: flex;
            justify-content: space-around;
            padding: 10px;
            z-index: 1000;
        }

        .light {
            font-size: 1.2em;
            animation: twinkle 1.5s ease-in-out infinite;
            opacity: 0.8;
        }

        @keyframes twinkle {
            0%, 100% { opacity: 0.4; }
            50% { opacity: 1; }
        }

        .light:nth-child(odd) {
            animation-delay: 0.75s;
        }

        /* æ¶ˆæ¯æ¡†æ ·å¼ä¼˜åŒ– */
        .hidden-message {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: rgba(255, 255, 255, 0.95);
            padding: 15px;
            border-radius: 10px;
            box-shadow: 0 0 20px rgba(0, 0, 0, 0.3);
            display: none;
            z-index: 1001;
            text-align: center;
            color: #333;
            font-size: 1em;
            width: 80%;
            max-width: 300px;
        }

        /* ç…§ç‰‡è®¡æ•°å™¨ä¼˜åŒ– */
        .photo-counter {
            position: absolute;
            bottom: 10px;
            left: 50%;
            transform: translateX(-50%);
            background: rgba(0,0,0,0.5);
            color: white;
            padding: 5px 15px;
            border-radius: 15px;
            font-size: 0.9em;
        }

        @media (max-width: 768px) {
            .side-decorations {
                display: none;
            }

            .decoration {
                font-size: 1.2em;
            }

            .photo-gallery {
                width: 95%;
                height: 50vh;
            }

            .nav-button {
                width: 40px;
                height: 40px;
                font-size: 20px;
            }
        }

        .love-message {
            margin: 20px auto;
            max-width: 600px;
            text-align: center;
            padding: 15px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 10px;
            animation: fadeIn 2s ease-in;
        }

        .love-message p {
            margin: 10px 0;
            font-size: 1.2em;
            color: #ffd700;
            text-shadow: 0 0 5px rgba(255, 215, 0, 0.5);
        }

        .typing-effect {
            overflow: hidden;
            white-space: nowrap;
            border-right: 2px solid #ffd700;
            animation: typing 3.5s steps(40, end),
                       blink-caret .75s step-end infinite;
            animation-fill-mode: forwards;
            opacity: 0;
        }

        .typing-effect:nth-child(2) {
            animation-delay: 0s;
        }

        .typing-effect:nth-child(3) {
            animation-delay: 3.5s;
        }

        .typing-effect:nth-child(4) {
            animation-delay: 7s;
        }

        @keyframes typing {
            from {
                width: 0;
                opacity: 1;
            }
            to {
                width: 100%;
                opacity: 1;
            }
        }

        @keyframes blink-caret {
            from, to { border-color: transparent }
            50% { border-color: #ffd700; }
        }

        .floating-heart {
            position: fixed;
            font-size: 24px;
            pointer-events: none;
            animation: floatHeart 2s ease-in-out;
            z-index: 9999;
        }

        @keyframes floatHeart {
            0% {
                transform: scale(0) translate(0, 0);
                opacity: 0.8;
            }
            50% {
                transform: scale(1.5) translate(0, -50px);
                opacity: 0.5;
            }
            100% {
                transform: scale(1) translate(0, -100px);
                opacity: 0;
            }
        }

        /* ç»™éšè—æ¶ˆæ¯æ·»åŠ æ›´æµªæ¼«çš„æ ·å¼ */
        .hidden-message {
            background: rgba(255, 192, 203, 0.95);
            color: #d4145a;
            font-size: 1.2em;
            box-shadow: 0 0 20px rgba(255, 105, 180, 0.3);
            border: 2px solid #ff69b4;
        }

        .special-name {
            font-size: 2.8em;
            margin: 15px 0;
            background: linear-gradient(45deg, #ff1493, #ffd700);
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            font-weight: bold;
            text-shadow: 0 0 15px rgba(255, 20, 147, 0.5);
            animation: nameGlow 2s ease-in-out infinite;
            font-family: "Microsoft YaHei", sans-serif;
        }

        @keyframes nameGlow {
            0%, 100% {
                filter: drop-shadow(0 0 5px rgba(255, 20, 147, 0.5));
            }
            50% {
                filter: drop-shadow(0 0 15px rgba(255, 20, 147, 0.8));
            }
        }

        .typing-effect:nth-child(5) {
            animation-delay: 10.5s;
        }

        /* åœ¨styleæ ‡ç­¾ä¸­æ·»åŠ é›ªèŠ±åŠ¨ç”»ç›¸å…³æ ·å¼ */
        .snowflake {
            position: fixed;
            color: #fff;
            font-size: 1.5em;
            text-shadow: 0 0 5px rgba(255,255,255,0.8);
            animation: snowfall 10s linear infinite;
            z-index: 1000;
            pointer-events: none;
        }

        @keyframes snowfall {
            0% {
                transform: translateY(-100%) rotate(0deg);
                opacity: 0;
            }
            10% {
                opacity: 1;
            }
            90% {
                opacity: 1;
            }
            100% {
                transform: translateY(100vh) rotate(360deg);
                opacity: 0;
            }
        }

        /* ä¿®æ”¹magic-snowçš„æ ·å¼ */
        .magic-snow {
            position: fixed;
            top: 20px;
            left: 20px;
            font-size: 2em;
            cursor: pointer;
            z-index: 1000;
            animation: float 3s ease-in-out infinite;
            transition: all 0.3s ease;
        }

        .magic-snow:hover {
            transform: scale(1.2) rotate(15deg);
            filter: brightness(1.2);
        }

        /* åœ¨styleæ ‡ç­¾ä¸­æ·»åŠ æŒç»­é£˜è½çš„é›ªèŠ±æ ·å¼ */
        .falling-snow {
            position: fixed;
            color: #fff;
            font-size: 1.2em;
            text-shadow: 0 0 3px rgba(255,255,255,0.3);
            animation: snowFalling linear infinite;
            z-index: 1;
            pointer-events: none;
            opacity: 0.6;
            top: -20px;
        }

        @keyframes snowFalling {
            0% {
                transform: translateY(0) translateX(-20px) rotate(0deg);
            }
            100% {
                transform: translateY(100vh) translateX(20px) rotate(360deg);
            }
        }

        /* æ·»åŠ é›ªèŠ±å®¹å™¨ */
        #snowContainer {
            position: fixed;
            width: 100%;
            height: 100%;
            top: 0;
            left: 0;
            pointer-events: none;
            z-index: 1;
        }

        /* æ·»åŠ ç›¸å†Œå‘¨è¾¹è£…é¥° */
        .gallery-wrapper {
            position: relative;
            width: 100%;
            display: flex;
            justify-content: center;
            align-items: center;
            margin: 20px 0;
        }

        .gallery-decoration {
            position: absolute;
            width: 100%;
            height: 100%;
            pointer-events: none;
        }

        .gallery-decoration::before,
        .gallery-decoration::after {
            content: 'â™¥';
            position: absolute;
            font-size: 2em;
            color: #ff69b4;
            animation: pulse 2s infinite;
        }

        .gallery-decoration::before {
            left: 5%;
            top: 50%;
        }

        .gallery-decoration::after {
            right: 5%;
            top: 50%;
        }

        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.2); }
            100% { transform: scale(1); }
        }

        /* æ·»åŠ è£…é¥°æ€§æ–‡å­— */
        .decorative-text {
            position: absolute;
            font-family: 'Arial', cursive;
            color: rgba(255, 255, 255, 0.6);
            pointer-events: none;
        }

        .decorative-text.top-left {
            top: 10%;
            left: 5%;
            transform: rotate(-15deg);
        }

        .decorative-text.top-right {
            top: 10%;
            right: 5%;
            transform: rotate(15deg);
        }

        .decorative-text.bottom-left {
            bottom: 10%;
            left: 5%;
            transform: rotate(15deg);
        }

        .decorative-text.bottom-right {
            bottom: 10%;
            right: 5%;
            transform: rotate(-15deg);
        }

        /* æ·»åŠ çˆ±å¿ƒè£…é¥° */
        .heart-decoration {
            position: absolute;
            font-size: 1.5em;
            color: #ff69b4;
            animation: float 3s ease-in-out infinite;
            opacity: 0.6;
            pointer-events: none;
        }
    </style>
</head>
<body>
    <!-- åœ£è¯è£…é¥° -->
    <div class="decoration holly">ğŸ„</div>
    <div class="decoration bell">ğŸ””</div>
    <div class="decoration gift">ğŸ</div>
    <div class="decoration star">â­</div>
    <div class="decoration candy">ğŸ¬</div>

    <!-- åœ£è¯ç¯ -->
    <div class="christmas-lights">
        <div class="light">ğŸ’¡</div>
        <div class="light">ğŸ’¡</div>
        <div class="light">ğŸ’¡</div>
        <div class="light">ğŸ’¡</div>
        <div class="light">ğŸ’¡</div>
        <div class="light">ğŸ’¡</div>
        <div class="light">ğŸ’¡</div>
        <div class="light">ğŸ’¡</div>
    </div>

    <!-- ä¾§è¾¹è£…é¥° -->
    <div class="side-decorations left">
        <span>ğŸ…</span>
        <span>ğŸ¦Œ</span>
        <span>ğŸ„</span>
    </div>

    <div class="side-decorations right">
        <span>ğŸ</span>
        <span>â›„</span>
        <span>ğŸ””</span>
    </div>

    <div class="container">
        <div class="header">
            <h1>Merry Christmas My Love</h1>
            <div class="special-name">é­äºšè“‰</div>
            <div class="date">2024å¹´12æœˆ25æ—¥</div>
            <div class="love-message">
                <p>äº²çˆ±çš„äºšè“‰</p>
                <p>åœ£è¯å¿«ä¹ï¼</p>
                <p class="typing-effect">æ„¿ä½ å¤©å¤©å¿«ä¹</p>
                <p class="typing-effect">æˆ‘æ°¸è¿œé™ªä¼´ä½ </p>
                <p class="typing-effect">è®©ä½ å……æ»¡ç”œèœœ</p>
                <p class="typing-effect">æ°¸è¿œå¹¸ç¦ç¾æ»¡</p>
            </div>
        </div>

        <div class="gallery-wrapper">
            <div class="gallery-decoration"></div>
            
            <!-- è£…é¥°æ€§æ–‡å­— -->
            <div class="decorative-text top-left">æ°¸æ’çš„çˆ±</div>
            <div class="decorative-text top-right">ç”œèœœå›å¿†</div>
            <div class="decorative-text bottom-left">å¹¸ç¦ç›¸ä¼´</div>
            <div class="decorative-text bottom-right">å¿«ä¹æ°¸è¿œ</div>

            <!-- çˆ±å¿ƒè£…é¥° -->
            <div class="heart-decoration" style="left: 10%; top: 20%;">â¤ï¸</div>
            <div class="heart-decoration" style="right: 10%; top: 30%;">â¤ï¸</div>
            <div class="heart-decoration" style="left: 15%; bottom: 25%;">â¤ï¸</div>
            <div class="heart-decoration" style="right: 15%; bottom: 35%;">â¤ï¸</div>

            <div class="photo-gallery" id="photoGallery">
                <div class="photo-card active">
                    <img src="./pics/1.jpeg" alt="Christmas Memory 1">
                </div>
                <div class="photo-card">
                    <img src="./pics/2.jpeg" alt="Christmas Memory 2">
                </div>
                <div class="photo-card">
                    <img src="./pics/3.jpeg" alt="Christmas Memory 3">
                </div>
                <div class="photo-card">
                    <img src="./pics/4.jpeg" alt="Christmas Memory 4">
                </div>
                <div class="photo-card">
                    <img src="./pics/5.jpeg" alt="Christmas Memory 5">
                </div>
                <div class="photo-card">
                    <img src="./pics/6.jpeg" alt="Christmas Memory 6">
                </div>
                <div class="photo-card">
                    <img src="./pics/7.jpeg" alt="Christmas Memory 7">
                </div>
                <div class="photo-card">
                    <img src="./pics/8.jpeg" alt="Christmas Memory 8">
                </div>
                <div class="photo-card">
                    <img src="./pics/9.jpeg" alt="Christmas Memory 9">
                </div>
                <div class="photo-card">
                    <img src="./pics/10.jpeg" alt="Christmas Memory 10">
                </div>

                <div class="nav-buttons">
                    <button class="nav-button" id="prevButton">â®</button>
                    <button class="nav-button" id="nextButton">â¯</button>
                </div>

                <div class="photo-counter">1 / 10</div>
            </div>
        </div>
    </div>

    <!-- æ·»åŠ æƒŠå–œå…ƒç´  -->
    <div class="secret-gift" onclick="showGiftMessage()">ğŸ</div>
    <div class="draggable-star" draggable="true">â­</div>
    <div class="secret-santa">ğŸ…</div>
    <div class="magic-snow" onclick="createMagicSnow()">â„ï¸</div>
    <div class="candy-cane" onclick="spinCandy()">ğŸ¬</div>
    <div class="secret-bell" onclick="ringBell()">ğŸ””</div>

    <!-- éšè—æ¶ˆæ¯ -->
    <div class="hidden-message" id="giftMessage">
        ğŸŒŸ åœ£è¯å¿«ä¹ ğŸ„<br>
        æ„¿ä½ æ°¸è¿œå¹¸ç¦
    </div>

    <script>
        // ç­‰å¾…DOMå®Œå…¨åŠ è½½
        document.addEventListener('DOMContentLoaded', function() {
            console.log('DOM loaded');

            // åˆå§‹åŒ–å˜é‡
            let currentSlide = 0;
            const slides = document.querySelectorAll('.photo-card');
            const counter = document.querySelector('.photo-counter');
            const prevButton = document.getElementById('prevButton');
            const nextButton = document.getElementById('nextButton');
            const draggableStar = document.querySelector('.draggable-star');

            console.log('Found elements:', {
                slidesCount: slides.length,
                prevButton: prevButton,
                nextButton: nextButton
            });

            // æ˜¾ç¤ºæŒ‡å®šå¹»ç¯ç‰‡
            function showSlide(n) {
                console.log('Showing slide:', n);
                slides[currentSlide].classList.remove('active');
                currentSlide = (n + slides.length) % slides.length;
                if (currentSlide < 0) currentSlide = slides.length - 1;
                console.log('New current slide:', currentSlide);
                slides[currentSlide].classList.add('active');
                counter.textContent = `${currentSlide + 1} / ${slides.length}`;
            }

            // ä¸‹ä¸€å¼ å¹»ç¯ç‰‡
            function nextSlide() {
                console.log('Next slide clicked');
                showSlide(currentSlide + 1);
            }

            // ä¸Šä¸€å¼ å¹»ç¯ç‰‡
            function prevSlide() {
                console.log('Previous slide clicked');
                showSlide(currentSlide - 1);
            }

            // ç›´æ¥åœ¨æŒ‰é’®ä¸Šè®¾ç½®ç‚¹å‡»å¤„ç†å‡½æ•°
            if (prevButton) {
                prevButton.onclick = function(e) {
                    console.log('Prev button clicked');
                    e.preventDefault();
                    prevSlide();
                };
            }

            if (nextButton) {
                nextButton.onclick = function(e) {
                    console.log('Next button clicked');
                    e.preventDefault();
                    nextSlide();
                };
            }

            // é”®ç›˜æ§åˆ¶
            document.addEventListener('keydown', function(e) {
                console.log('Key pressed:', e.key);
                if (e.key === 'ArrowRight' || e.key === ' ') {
                    e.preventDefault();
                    nextSlide();
                } else if (e.key === 'ArrowLeft') {
                    e.preventDefault();
                    prevSlide();
                }
            });

            // è§¦æ‘¸æ§åˆ¶
            let touchStartX = 0;
            let touchEndX = 0;
            const photoGallery = document.getElementById('photoGallery');

            if (photoGallery) {
                photoGallery.addEventListener('touchstart', function(e) {
                    console.log('Touch start');
                    touchStartX = e.changedTouches[0].screenX;
                }, false);

                photoGallery.addEventListener('touchend', function(e) {
                    console.log('Touch end');
                    touchEndX = e.changedTouches[0].screenX;
                    handleSwipe();
                }, false);
            }

            function handleSwipe() {
                const swipeThreshold = 50;
                const swipeDistance = touchEndX - touchStartX;
                console.log('Swipe distance:', swipeDistance);

                if (touchEndX < touchStartX - swipeThreshold) {
                    nextSlide();
                }
                if (touchEndX > touchStartX + swipeThreshold) {
                    prevSlide();
                }
            }

            // æ‹–æ‹½æ˜Ÿæ˜ŸåŠŸèƒ½
            if (draggableStar) {
                draggableStar.addEventListener('touchstart', function(e) {
                    e.preventDefault();
                    const touch = e.touches[0];
                    const offsetX = touch.clientX - draggableStar.offsetLeft;
                    const offsetY = touch.clientY - draggableStar.offsetTop;

                    function moveAt(touch) {
                        draggableStar.style.left = touch.clientX - offsetX + 'px';
                        draggableStar.style.top = touch.clientY - offsetY + 'px';
                        createStarTrail(touch.clientX, touch.clientY);
                    }

                    function onTouchMove(e) {
                        moveAt(e.touches[0]);
                    }

                    document.addEventListener('touchmove', onTouchMove);

                    draggableStar.addEventListener('touchend', function() {
                        document.removeEventListener('touchmove', onTouchMove);
                    }, { once: true });
                });

                // PCç«¯æ‹–æ‹½æ”¯æŒ
                draggableStar.addEventListener('mousedown', function(e) {
                    e.preventDefault();
                    const offsetX = e.clientX - draggableStar.offsetLeft;
                    const offsetY = e.clientY - draggableStar.offsetTop;

                    function moveAt(e) {
                        draggableStar.style.left = e.clientX - offsetX + 'px';
                        draggableStar.style.top = e.clientY - offsetY + 'px';
                        createStarTrail(e.clientX, e.clientY);
                    }

                    function onMouseMove(e) {
                        moveAt(e);
                    }

                    document.addEventListener('mousemove', onMouseMove);

                    document.addEventListener('mouseup', function() {
                        document.removeEventListener('mousemove', onMouseMove);
                    }, { once: true });
                });
            }

            // ç¡®ä¿åˆå§‹çŠ¶æ€æ­£ç¡®
            showSlide(0);
            console.log('Initial setup complete');
        });

        // åˆ›å»ºæ˜Ÿæ˜Ÿè½¨è¿¹
        function createStarTrail(x, y) {
            for (let i = 0; i < 5; i++) {
                const trail = document.createElement('div');
                trail.textContent = 'âœ¨';
                trail.style.position = 'fixed';
                trail.style.left = x + 'px';
                trail.style.top = y + 'px';
                trail.style.fontSize = '1.5em';
                trail.style.opacity = '0';
                trail.style.transition = 'all 0.5s ease';
                trail.style.transform = `translate(${Math.random() * 100 - 50}px, ${Math.random() * 100 - 50}px)`;
                document.body.appendChild(trail);

                setTimeout(() => {
                    trail.style.opacity = '1';
                }, 0);

                setTimeout(() => {
                    trail.remove();
                }, 500);
            }
        }

        // æƒŠå–œåŠŸèƒ½
        function showGiftMessage() {
            const message = document.getElementById('giftMessage');
            message.style.display = 'block';
            createFireworks(20);
            setTimeout(() => {
                message.style.display = 'none';
            }, 3000);
        }

        // åˆ›å»ºçƒŸèŠ±æ•ˆæœ
        function createFireworks(count) {
            for (let i = 0; i < count; i++) {
                const firework = document.createElement('div');
                firework.className = 'firework';
                firework.style.left = '50%';
                firework.style.top = '50%';
                firework.style.background = `hsl(${Math.random() * 360}, 100%, 50%)`;
                firework.style.setProperty('--dx', `${Math.random() * 400 - 200}px`);
                firework.style.setProperty('--dy', `${Math.random() * 400 - 200}px`);
                firework.style.animation = 'firework 1s ease-out forwards';
                document.body.appendChild(firework);

                setTimeout(() => {
                    firework.remove();
                }, 1000);
            }
        }

        // é­”æ³•é›ªèŠ±
        function createMagicSnow() {
            const colors = ['#ffffff', '#e3f2fd', '#bbdefb', '#90caf9', '#64b5f6'];
            for (let i = 0; i < 20; i++) {
                const snow = document.createElement('div');
                snow.className = 'snowflake';
                snow.innerHTML = 'â„';
                snow.style.left = Math.random() * 100 + 'vw';
                snow.style.animationDuration = (Math.random() * 3 + 8) + 's'; // 8-11ç§’çš„éšæœºæ—¶é—´
                snow.style.animationDelay = Math.random() * 2 + 's';
                snow.style.color = colors[Math.floor(Math.random() * colors.length)];
                snow.style.opacity = Math.random() * 0.5 + 0.5;
                snow.style.fontSize = (Math.random() * 15 + 10) + 'px';
                document.body.appendChild(snow);

                // åŠ¨ç”»ç»“æŸåç§»é™¤é›ªèŠ±
                snow.addEventListener('animationend', () => {
                    snow.remove();
                });
            }
        }

        // æ—‹è½¬ç³–æœ
        let candySpins = 0;
        function spinCandy() {
            const candy = document.querySelector('.candy-cane');
            candySpins++;
            candy.style.transform = `rotate(${candySpins * 360}deg)`;
            if (candySpins === 3) {
                candySpins = 0;
                createCandyShower();
            }
        }

        function createCandyShower() {
            const candies = ['ğŸ¬', 'ğŸ­', 'ğŸª'];
            for (let i = 0; i < 20; i++) {
                const candy = document.createElement('div');
                candy.textContent = candies[Math.floor(Math.random() * candies.length)];
                candy.style.position = 'fixed';
                candy.style.left = Math.random() * 100 + 'vw';
                candy.style.top = '-20px';
                candy.style.fontSize = '1.5em';
                candy.style.animation = `fall ${Math.random() * 3 + 2}s linear forwards`;
                document.body.appendChild(candy);

                setTimeout(() => {
                    candy.remove();
                }, 5000);
            }
        }

        // é“ƒé“›æ•ˆæœ
        function ringBell() {
            const bell = document.querySelector('.secret-bell');
            bell.classList.add('bell-ring');

            // æ’­æ”¾é“ƒå£°
            const audio = new Audio('data:audio/wav;base64,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qJrx4KOQjahZxWbcZgztj2c49nKmkId44S71j0c8eV9yDK6uPRzx5X18eDvjvQ6yKo9ZSS6l//8elePK/Lf//IInrOF/FvDoADYAGBMGb7FtErm5MXMlmPAJQVgWta7Zx2go+8xJ0UiCb8LHHdftWyLJE0QIAIsI+UbXu67dZMjmgDGCGl1H+vpF4NSDckSIkk7Vd+sxEhBQMRU8j/12UIRhzSaUdQ+rQU5kGeFxm+hb1oh6pWWmv3uvmReDl0UnvtapVaIzo1jZbf/pD6ElLqSX+rUmOQNpJFa/r+sa4e/pBlAABoAAAAA3CUgShLdGIxsY7AUABPRrgCABdDuQ5GC7DqPQCgbbJUAoRSUj+NIEig0YfyWUho1VBBBA//uQZB4ABZx5zfMakeAAAAmwAAAAF5F3P0w9GtAAACfAAAAAwLhMDmAYWMgVEG1U0FIGCBgXBXAtfMH10000EEEEEECUBYln03TTTdNBDZopopYvrTTdNa325mImNg3TTPV9q3pmY0xoO6bv3r00y+IDGid/9aaaZTGMuj9mpu9Mpio1dXrr5HERTZSmqU36A3CumzN/9Robv/Xx4v9ijkSRSNLQhAWumap82WRSBUqXStV/YcS+XVLnSS+WLDroqArFkMEsAS+eWmrUzrO0oEmE40RlMZ5+ODIkAyKAGUwZ3mVKmcamcJnMW26MRPgUw6j+LkhyHGVGYjSUUKNpuJUQoOIAyDvEyG8S5yfK6dhZc0Tx1KI/gviKL6qvvFs1+bWtaz58uUNnryq6kt5RzOCkPWlVqVX2a/EEBUdU1KrXLf40GoiiFXK///qpoiDXrOgqDR38JB0bw7SoL+ZB9o1RCkQjQ2CBYZKd/+VJxZRRZlqSkKiws0WFxUyCwsKiMy7hUVFhIaCrNQsKkTIsLivwKKigsj8XYlwt/WKi2N4d//uQRCSAAjURNIHpMZBGYiaQPSYyAAABLAAAAAAAACWAAAAApUF/Mg+0aohSIRobBAsMlO//Kk4soosy1JSFRYWaLC4qZBYWFRGZdwqKiwkNBVmoWFSJkWFxX4FFRQWR+LsS4W/rFRb/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////VEFHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAU291bmRib3kuZGUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMjAwNGh0dHA6Ly93d3cuc291bmRib3kuZGUAAAAAAAAAACU=');
            audio.play();

            setTimeout(() => {
                bell.classList.remove('bell-ring');
            }, 500);
        }

        // æ·»åŠ è§¦æ‘¸æ»‘åŠ¨æ”¯æŒ
        let touchStartX = 0;
        let touchEndX = 0;

        document.querySelector('.photo-gallery').addEventListener('touchstart', e => {
            touchStartX = e.changedTouches[0].screenX;
        }, false);

        document.querySelector('.photo-gallery').addEventListener('touchend', e => {
            touchEndX = e.changedTouches[0].screenX;
            handleSwipe();
        }, false);

        function handleSwipe() {
            const swipeThreshold = 50;
            if (touchEndX < touchStartX - swipeThreshold) {
                // å·¦æ»‘
                nextSlide();
            }
            if (touchEndX > touchStartX + swipeThreshold) {
                // å³æ»‘
                prevSlide();
            }
        }

        // ä¼˜åŒ–æ‹–æ‹½æ˜Ÿæ˜Ÿçš„è§¦æ‘¸æ”¯æŒ
        const star = document.querySelector('.draggable-star');

        star.addEventListener('touchstart', e => {
            e.preventDefault();
            const touch = e.touches[0];
            const offsetX = touch.clientX - star.offsetLeft;
            const offsetY = touch.clientY - star.offsetTop;

            function moveAt(touch) {
                star.style.left = touch.clientX - offsetX + 'px';
                star.style.top = touch.clientY - offsetY + 'px';
                createStarTrail(touch.clientX, touch.clientY);
            }

            function onTouchMove(e) {
                moveAt(e.touches[0]);
            }

            document.addEventListener('touchmove', onTouchMove);

            star.addEventListener('touchend', () => {
                document.removeEventListener('touchmove', onTouchMove);
            }, { once: true });
        });

        // ä¼˜åŒ–ç‚¹å‡»/è§¦æ‘¸æ•ˆæœ
        document.querySelectorAll('.decoration, .nav-button').forEach(element => {
            element.addEventListener('touchstart', e => {
                e.target.style.transform = 'scale(0.95)';
            });

            element.addEventListener('touchend', e => {
                e.target.style.transform = '';
            });
        });

        // åœ¨ç°æœ‰çš„scriptæ ‡ç­¾å¼€å§‹å¤„æ·»åŠ æ–°çš„å‡½æ•°
        function createHeart(x, y) {
            const heart = document.createElement('div');
            heart.className = 'floating-heart';
            heart.innerHTML = 'â¤ï¸';
            heart.style.left = x + 'px';
            heart.style.top = y + 'px';
            document.body.appendChild(heart);

            setTimeout(() => {
                heart.remove();
            }, 2000);
        }

        // æ·»åŠ ç‚¹å‡»äº‹ä»¶ç›‘å¬å™¨
        document.addEventListener('click', (e) => {
            createHeart(e.clientX, e.clientY);
        });

        // æ·»åŠ è§¦æ‘¸äº‹ä»¶ç›‘å¬å™¨
        document.addEventListener('touchstart', (e) => {
            const touch = e.touches[0];
            createHeart(touch.clientX, touch.clientY);
        });

        // åœ¨scriptæ ‡ç­¾å¼€å§‹å¤„æ·»åŠ åˆ›å»ºæŒç»­é£˜è½é›ªèŠ±çš„å‡½æ•°
        function createFallingSnow() {
            const snow = document.createElement('div');
            snow.className = 'falling-snow';
            snow.innerHTML = 'â„';
            snow.style.left = Math.random() * 100 + 'vw';
            snow.style.animationDuration = Math.random() * 5 + 8 + 's';
            snow.style.opacity = Math.random() * 0.4 + 0.2;
            snow.style.fontSize = Math.random() * 10 + 8 + 'px';
            document.body.appendChild(snow);

            // åŠ¨ç”»ç»“æŸåç§»é™¤é›ªèŠ±
            snow.addEventListener('animationend', () => {
                snow.remove();
            });
        }

        // å®šæœŸåˆ›å»ºé›ªèŠ±
        setInterval(createFallingSnow, 300);

        // åˆå§‹åˆ›å»ºä¸€äº›é›ªèŠ±
        for(let i = 0; i < 20; i++) {
            setTimeout(() => {
                createFallingSnow();
            }, i * 300);
        }

        // åœ¨bodyåŠ è½½å®Œæˆåç«‹å³å¼€å§‹åˆ›å»ºé›ªèŠ±
        window.onload = function() {
            // åˆ›å»ºé›ªèŠ±å®¹å™¨
            const snowContainer = document.createElement('div');
            snowContainer.id = 'snowContainer';
            document.body.appendChild(snowContainer);

            // åˆ›å»ºé›ªèŠ±çš„å‡½æ•°
            function createSnow() {
                const snow = document.createElement('div');
                snow.className = 'falling-snow';
                snow.innerHTML = 'â„';
                snow.style.left = Math.random() * 100 + 'vw';
                snow.style.animationDuration = Math.random() * 5 + 8 + 's';
                snow.style.opacity = Math.random() * 0.4 + 0.2;
                snow.style.fontSize = Math.random() * 10 + 8 + 'px';
                snowContainer.appendChild(snow);

                // åŠ¨ç”»ç»“æŸåç§»é™¤é›ªèŠ±
                snow.addEventListener('animationend', () => {
                    snow.remove();
                });
            }

            // å®šæœŸåˆ›å»ºé›ªèŠ±
            setInterval(createSnow, 300);

            // åˆå§‹åˆ›å»ºä¸€äº›é›ªèŠ±
            for(let i = 0; i < 20; i++) {
                setTimeout(createSnow, i * 300);
            }

            // æ·»åŠ è£…é¥°æ€§æ–‡å­—åŠ¨ç”»
            document.querySelectorAll('.decorative-text').forEach((text, index) => {
                text.style.animationDelay = `${index * 0.5}s`;
                text.style.animation = 'fadeInRotate 1.5s ease-out forwards';
            });

            // éšæœºç§»åŠ¨çˆ±å¿ƒè£…é¥°
            document.querySelectorAll('.heart-decoration').forEach(heart => {
                setInterval(() => {
                    const x = Math.random() * 10 - 5; // -5 åˆ° 5 çš„éšæœºå€¼
                    const y = Math.random() * 10 - 5;
                    heart.style.transform = `translate(${x}px, ${y}px)`;
                }, 2000);
            });

            // è‡ªåŠ¨åˆ‡æ¢ç…§ç‰‡
            let autoSlideInterval = setInterval(() => {
                const nextButton = document.getElementById('nextButton');
                if (nextButton) {
                    nextButton.click();
                }
            }, 5000); // æ¯5ç§’åˆ‡æ¢ä¸€æ¬¡

            // å½“ç”¨æˆ·æ‰‹åŠ¨æ“ä½œæ—¶æš‚åœè‡ªåŠ¨åˆ‡æ¢
            document.querySelector('.photo-gallery').addEventListener('mouseover', () => {
                clearInterval(autoSlideInterval);
            });

            document.querySelector('.photo-gallery').addEventListener('mouseout', () => {
                autoSlideInterval = setInterval(() => {
                    const nextButton = document.getElementById('nextButton');
                    if (nextButton) {
                        nextButton.click();
                    }
                }, 5000);
            });
        };

        // æ·»åŠ æ–°çš„CSSåŠ¨ç”»
        const style = document.createElement('style');
        style.textContent = `
            @keyframes fadeInRotate {
                from {
                    opacity: 0;
                    transform: rotate(0deg) scale(0.5);
                }
                to {
                    opacity: 0.6;
                    transform: rotate(-15deg) scale(1);
                }
            }
        `;
        document.head.appendChild(style);
    </script>
</body>
</html>
